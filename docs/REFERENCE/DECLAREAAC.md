# Declare an Animator As Code (AAC)

In order to use Animator As Code (AAC), first, declare it with a configuration.

The AAC configuration requires the following:

- A system name.
    - Animator As Code describes systems. A system can have multiple layers, not only across playable layer animators, but also within a single playable layer animator. All created layers will be prefixed with this system name.
    - It is up to you to decide where the boundaries of the system lies.
- An avatar descriptor, animator root, and default value root.
    - This is used to select the playable layer animators to use.
    - This is also used to select the root transform that animations will use for relative paths.
    - This is used to collect the default values for some animations.
    - *In general, all three of them are the same object, but this is not mandatory.*
- An asset container.
    - Animations are generated by Animator As Code, and the large quantity of generated assets can be quite messy. To limit littering your project, such assets will be generated as sub-assets of a container. The container is of type Animator Controller, but it doesnâ€™t need to have any layers within it.
- An asset key.
    - The asset key a prefix that all generated assets will use. When creating the layers, all generated assets that uses that prefix will be removed upon invocation of `aac.ClearPreviousAssets()`.
- A provider of defaults.
    - Animator As Code is opinionated, and sometimes you want to tweak the default values. The provider of defaults is executed when a state is created, an animation is created, a transition is created. This will let you tweak the generation process.

To declare it:

```csharp
string systemName;
VRCAvatarDescriptor avatar;
AnimatorController assetContainer;
string assetKey;

var aac = Aac.Create(new AacConfiguration
{
    SystemName = systemName,
    AvatarDescriptor = avatar,
    AnimatorRoot = avatar.transform,
    DefaultValueRoot = avatar.transform,
    AssetContainer = assetContainer,
    AssetKey = assetKey,
    DefaultsProvider = new AacDefaultsProvider(writeDefaults: false)
});
// Remove all previously generated assets from the asset container
// that match the asset key.
aac.ClearPreviousAssets();
```
